<?php
	class includes{
        static $fonts = array(
            'Arvo' => 'http://fonts.googleapis.com/css?family=Arvo',
			'Cousine' => 'http://fonts.googleapis.com/css?family=Cousine',
			'Quattrocento' => 'http://fonts.googleapis.com/css?family=Quattrocento',
			'Wire+One' => 'http://fonts.googleapis.com/css?family=Wire+One',
			'Forum' => 'http://fonts.googleapis.com/css?family=Forum',
			'Patrick+Hand' => 'http://fonts.googleapis.com/css?family=Patrick+Hand',
			'Love+Ya+Like+A+Sister' => 'http://fonts.googleapis.com/css?family=Love+Ya+Like+A+Sister',
			'Loved+by+the+King' => 'http://fonts.googleapis.com/css?family=Loved+by+the+King',
			'Bowlby+One+SC' => 'http://fonts.googleapis.com/css?family=Bowlby+One+SC',
			'Stardos+Stencil' => 'http://fonts.googleapis.com/css?family=Stardos+Stencil',
			'Varela' => 'http://fonts.googleapis.com/css?family=Varela',
			'Lobster+Two' => 'http://fonts.googleapis.com/css?family=Lobster+Two',
			'Hammersmith+One' => 'http://fonts.googleapis.com/css?family=Hammersmith+One',
			'Redressed' => 'http://fonts.googleapis.com/css?family=Redressed',
			'Lekton' => 'http://fonts.googleapis.com/css?family=Lekton',
			'Gravitas+One' => 'http://fonts.googleapis.com/css?family=Gravitas+One',
			'Asset' => 'http://fonts.googleapis.com/css?family=Asset',
			'Goblin+One' => 'http://fonts.googleapis.com/css?family=Goblin+One',
			'Aclonica' => 'http://fonts.googleapis.com/css?family=Aclonica',
			'Didact+Gothic' => 'http://fonts.googleapis.com/css?family=Didact+Gothic',
			'Maiden+Orange' => 'http://fonts.googleapis.com/css?family=Maiden+Orange',
			'Tenor+Sans' => 'http://fonts.googleapis.com/css?family=Tenor+Sans',
			'Jura' => 'http://fonts.googleapis.com/css?family=Jura',
			'Francois+One' => 'http://fonts.googleapis.com/css?family=Francois+One',
			'Paytone+One' => 'http://fonts.googleapis.com/css?family=Paytone+One',
			'Zeyada' => 'http://fonts.googleapis.com/css?family=Zeyada',
			'Monofett' => 'http://fonts.googleapis.com/css?family=Monofett',
			'Caudex' => 'http://fonts.googleapis.com/css?family=Caudex',
            /* 18.07.2011 */
			'Oswald' => 'http://fonts.googleapis.com/css?family=Oswald',
            'Sunshiney' => 'http://fonts.googleapis.com/css?family=Sunshiney',
            'Istok+Web' => 'http://fonts.googleapis.com/css?family=Istok+Web',
            'Bowlby+One' => 'http://fonts.googleapis.com/css?family=Bowlby+One',
            'Modern+Antiqua' => 'http://fonts.googleapis.com/css?family=Modern+Antiqua',
            'Give+You+Glory' => 'http://fonts.googleapis.com/css?family=Give+You+Glory',
            'Yeseva+One' => 'http://fonts.googleapis.com/css?family=Yeseva+One',
            'Carme' => 'http://fonts.googleapis.com/css?family=Carme',
            'Gentium+Basic' => 'http://fonts.googleapis.com/css?family=Gentium+Basic',
            'Black+Ops+One' => 'http://fonts.googleapis.com/css?family=Black+Ops+One',
            'Gloria+Hallelujah' => 'http://fonts.googleapis.com/css?family=Gloria+Hallelujah',
            'Delius' => 'http://fonts.googleapis.com/css?family=Delius',
            'Aubrey' => 'http://fonts.googleapis.com/css?family=Aubrey',
            'Ovo' => 'http://fonts.googleapis.com/css?family=Ovo',
            'Leckerli+One' => 'http://fonts.googleapis.com/css?family=Leckerli+One',
            'Tienne' => 'http://fonts.googleapis.com/css?family=Tienne',
            'Varela+Round' => 'http://fonts.googleapis.com/css?family=Varela+Round',
            'Annie+Use+Your+Telescope' => 'http://fonts.googleapis.com/css?family=Annie+Use+Your+Telescope',
            'Nothing+You+Could+Do' => 'http://fonts.googleapis.com/css?family=Nothing+You+Could+Do',
            'Swanky+and+Moo+Moo' => 'http://fonts.googleapis.com/css?family=Swanky+and+Moo+Moo',
            'Lora' => 'http://fonts.googleapis.com/css?family=Lora',

            'Podkova' => 'http://fonts.googleapis.com/css?family=Podkova',
            'Limelight' => 'http://fonts.googleapis.com/css?family=Limelight',
            'Maven+Pro' => 'http://fonts.googleapis.com/css?family=Maven+Pro',
            'Architects+Daughter' => 'http://fonts.googleapis.com/css?family=Architects+Daughter',
            'Open+Sans+Condensed' => 'http://fonts.googleapis.com/css?family=Open+Sans+Condensed',
            'Mako' => 'http://fonts.googleapis.com/css?family=Mako',
            'Muli' => 'http://fonts.googleapis.com/css?family=Muli',
            'Nova+Square' => 'http://fonts.googleapis.com/css?family=Nova+Square',
            'Ruslan+Display' => 'http://fonts.googleapis.com/css?family=Ruslan+Display',
            'Anton' => 'http://fonts.googleapis.com/css?family=Anton',
            'Miltonian' => 'http://fonts.googleapis.com/css?family=Miltonian',
            'Kreon' => 'http://fonts.googleapis.com/css?family=Kreon',
            'Nixie+One' => 'http://fonts.googleapis.com/css?family=Nixie+One',
            'Coda+Caption' => 'http://fonts.googleapis.com/css?family=Coda+Caption',
            'Play' => 'http://fonts.googleapis.com/css?family=Play',
            'Expletus+Sans' => 'http://fonts.googleapis.com/css?family=Expletus+Sans',
            'IM+Fell+French+Canon+SC' => 'http://fonts.googleapis.com/css?family=IM+Fell+French+Canon+SC',
            'Brawler' => 'http://fonts.googleapis.com/css?family=Brawler',
            'Irish+Grover' => 'http://fonts.googleapis.com/css?family=Irish+Grover',
            'PT+Serif+Caption' => 'http://fonts.googleapis.com/css?family=PT+Serif+Caption',
            'PT+Serif' => 'http://fonts.googleapis.com/css?family=PT+Serif',
            'PT+Sans+Narrow' => 'http://fonts.googleapis.com/css?family=PT+Sans+Narrow',
            'Wallpoet' => 'http://fonts.googleapis.com/css?family=Wallpoet',
            'Cedarville+Cursive' => 'http://fonts.googleapis.com/css?family=Cedarville+Cursive',
            'IM+Fell+English+SC' => 'http://fonts.googleapis.com/css?family=IM+Fell+English+SC',
            'Lato' => 'http://fonts.googleapis.com/css?family=Lato',
            'Quattrocento+Sans' => 'http://fonts.googleapis.com/css?family=Quattrocento+Sans',
            'Sniglet' => 'http://fonts.googleapis.com/css?family=Sniglet',
            'Open+Sans' => 'http://fonts.googleapis.com/css?family=Open+Sans',
            'Geo' => 'http://fonts.googleapis.com/css?family=Geo',
            'Anonymous+Pro' => 'http://fonts.googleapis.com/css?family=Anonymous+Pro',
            'News+Cycle' => 'http://fonts.googleapis.com/css?family=News+Cycle',
            'Just+Another+Hand' => 'http://fonts.googleapis.com/css?family=Just+Another+Hand',
            'EB+Garamond' => 'http://fonts.googleapis.com/css?family=EB+Garamond',
            'Dancing+Script' => 'http://fonts.googleapis.com/css?family=Dancing+Script',
            'Shanti' => 'http://fonts.googleapis.com/css?family=Shanti',
            'Metrophobic' => 'http://fonts.googleapis.com/css?family=Metrophobic',
            'Syncopate' => 'http://fonts.googleapis.com/css?family=Syncopate',
            'Crimson+Text' => 'http://fonts.googleapis.com/css?family=Crimson+Text',
            'Orbitron' => 'http://fonts.googleapis.com/css?family=Orbitron',
            'Cuprum' => 'http://fonts.googleapis.com/css?family=Cuprum',
            'Cardo' => 'http://fonts.googleapis.com/css?family=Cardo',
            'Nobile' => 'http://fonts.googleapis.com/css?family=Nobile',
            'Inconsolata' => 'http://fonts.googleapis.com/css?family=Inconsolata',
            'IM+Fell+Double+Pica+SC' => 'http://fonts.googleapis.com/css?family=IM+Fell+Double+Pica+SC',
            'Neuton' => 'http://fonts.googleapis.com/css?family=Neuton',
            'Vollkorn' => 'http://fonts.googleapis.com/css?family=Vollkorn',
            'Indie+Flower' => 'http://fonts.googleapis.com/css?family=Indie+Flower',
            'Special+Elite' => 'http://fonts.googleapis.com/css?family=Special+Elite',
            'Fontdiner+Swanky' => 'http://fonts.googleapis.com/css?family=Fontdiner+Swanky',
            'Crushed' => 'http://fonts.googleapis.com/css?family=Crushed',
            'Bentham' => 'http://fonts.googleapis.com/css?family=Bentham',
            'IM+Fell+Great+Primer+SC' => 'http://fonts.googleapis.com/css?family=IM+Fell+Great+Primer+SC',
            'Coming+Soon' => 'http://fonts.googleapis.com/css?family=Coming+Soon',
            'Merriweather' => 'http://fonts.googleapis.com/css?family=Merriweather',
            'Cabin+Sketch' => 'http://fonts.googleapis.com/css?family=Cabin+Sketch',
            'Tangerine' => 'http://fonts.googleapis.com/css?family=Tangerine',
            'UnifrakturMaguntia' => 'http://fonts.googleapis.com/css?family=UnifrakturMaguntia',
            'Homemade+Apple' => 'http://fonts.googleapis.com/css?family=Homemade+Apple',
            'Molengo' => 'http://fonts.googleapis.com/css?family=Molengo',
            'Walter+Turncoat' => 'http://fonts.googleapis.com/css?family=Walter+Turncoat',
            'Yanone+Kaffeesatz' => 'http://fonts.googleapis.com/css?family=Yanone+Kaffeesatz',
            'Raleway' => 'http://fonts.googleapis.com/css?family=Raleway',
            'Bevan' => 'http://fonts.googleapis.com/css?family=Bevan',
            'PT+Sans+Caption' => 'http://fonts.googleapis.com/css?family=PT+Sans+Caption',
            'Josefin+Slab' => 'http://fonts.googleapis.com/css?family=Josefin+Slab',
            'Rock+Salt' => 'http://fonts.googleapis.com/css?family=Rock+Salt',
            'Kranky' => 'http://fonts.googleapis.com/css?family=Kranky',
            'Covered+By+Your+Grace' => 'http://fonts.googleapis.com/css?family=Covered+By+Your+Grace',
		);
		static function load_css( ){
            /* admin panel ( options , meta-box ) */
            wp_register_style('settings', get_template_directory_uri() . '/lib/css/settings.css?v=0.2');
            
            wp_register_style('generic-fields', get_template_directory_uri() . '/lib/css/generic-fields.css?v=0.1');
            wp_register_style('meta-box', get_template_directory_uri() . '/lib/css/meta.box.css');
            wp_register_style('ui-slider', get_template_directory_uri() . '/lib/css/ui-slider.css');

            wp_register_style('impromptucss', get_template_directory_uri() . '/css/jquery-impromptu.css');
            
            wp_enqueue_style( 'ui-slider');
            wp_enqueue_style( 'ui-lightness');
            wp_enqueue_style( 'settings' );
            wp_enqueue_style( 'generic-fields' );
            wp_enqueue_style( 'meta-box' );
            wp_enqueue_style('thickbox');

             wp_enqueue_style('impromptucss');

            
            wp_register_style('fontello', get_template_directory_uri() . '/css/autoinclude/fontello.css');
            wp_enqueue_style('fontello');
            
            /* shortcodes */
            wp_register_style('tabs', get_template_directory_uri() . '/lib/css/shcode/tabs.css' );
            wp_register_style('shcode_forms', get_template_directory_uri() . '/lib/css/shcode/style.css' );
            wp_register_style('columns', get_template_directory_uri() . '/lib/css/shcode/columns.css' );
            /* used in frontend / backend */
            wp_register_style('shortcode', get_template_directory_uri() . '/lib/css/shortcode.css' );

            wp_enqueue_style( 'tabs');
            wp_enqueue_style( 'shcode_forms');
            wp_enqueue_style( 'columns');
            wp_enqueue_style( 'shortcode');
            
            wp_register_style( 'prettyPhoto',get_template_directory_uri() . '/css/prettyPhoto.css' );
            wp_enqueue_style( 'prettyPhoto' );
		}

        static function load_js( ){

            if( is_admin() ){
                wp_register_script( 'extra' ,  get_template_directory_uri().'/lib/js/extra.js',array('jquery-ui-slider') );
                wp_enqueue_script( 'jquery-ui-slider' );
                wp_enqueue_script( 'jquery-ui-sortable' );
                wp_register_script( 'actions', get_template_directory_uri().'/lib/js/actions.js' , array( 'jquery' , 'media-upload' , 'thickbox' ) );
                wp_enqueue_script( 'jquery' );
                wp_enqueue_script('media-upload');
                wp_enqueue_script('thickbox');
                
                wp_register_script( 'autocomplete' ,  get_template_directory_uri().'/lib/js/jquery.autocomplete-min.js' );
                wp_enqueue_script( 'autocomplete' );
                
				wp_register_script( 'meta' ,  get_template_directory_uri().'/lib/js/meta.js' );

                /* shorcodes */
                wp_register_script( 'button', get_template_directory_uri().'/lib/js/shcode/button.js');
                wp_register_script( 'tabs', get_template_directory_uri().'/lib/js/shcode/tabs.js');
				wp_register_script( 'columns_generator', get_template_directory_uri().'/lib/js/shcode/columns.js');

				wp_register_script( 'toggle', get_template_directory_uri().'/lib/js/shcode/toggle.js');

                wp_register_script( 'tabs_shcode', get_template_directory_uri().'/lib/js/shcode/tabs_shcode.js');
                wp_register_script( 'box', get_template_directory_uri().'/lib/js/shcode/box.js');
                wp_register_script( 'list', get_template_directory_uri().'/lib/js/shcode/list.js');
                wp_register_script( 'devider', get_template_directory_uri().'/lib/js/shcode/devider.js');
                wp_register_script( 'quote', get_template_directory_uri().'/lib/js/shcode/quote.js');
				wp_register_script( 'table' ,  get_template_directory_uri().'/lib/js/shcode/table.js' );

                wp_register_script( 'impromptu' ,  get_template_directory_uri().'/js/jquery-impromptu.js' , array( 'jquery' ) );

                $siteurl = get_option('siteurl');
                            
                wp_enqueue_script( 'google-map' );

				
                wp_enqueue_script( 'cookie' , get_template_directory_uri() . '/js/jquery.cookie_renamed.js' , array( 'jquery' ) );
                
                wp_enqueue_script( 'extra' );
                wp_enqueue_script( 'actions' );
                wp_localize_script( 'actions', 'MyAjax', array(
                    // URL to wp-admin/admin-ajax.php to process the request
                    'ajaxurl'          => admin_url( 'admin-ajax.php' ),
                 
                    // generate a nonce with a unique ID "myajax-post-comment-nonce"
                    // so that you can check it later when an AJAX request is sent
                    'getMoreNonce' => wp_create_nonce( 'myajax-getMore-nonce' ),
                    )
                );
				wp_enqueue_script( 'meta' );

                /* shortcodes */
                wp_enqueue_script( 'button' );
                wp_enqueue_script( 'tabs' );
				wp_enqueue_script( 'table' );
				wp_enqueue_script( 'columns_generator' );
				wp_enqueue_script( 'toggle' );

                wp_enqueue_script( 'tabs_shcode' );
                wp_enqueue_script( 'box' );
                wp_enqueue_script( 'list' );
                wp_enqueue_script( 'devider' );
                wp_enqueue_script( 'quote' );
                wp_enqueue_script( 'prettyPhoto' , get_template_directory_uri() . '/js/jquery.prettyPhoto.js' , array( 'jquery' ) );

                wp_enqueue_script( 'impromptu' );
            }
		}

        static function get_latest_google_fonts(){

            $cosmoGoogleFonts = self::$fonts; /*get the hardcoded fonts*/
            
            // Custom fonts adding
            $custom = options::get_value( 'typography' , 'add_font' );

            $custom = trim($custom);
            $custom = explode("\n", $custom);
            $custom = array_filter($custom, 'trim'); // remove any extra \r characters left behind

            $custom_fonts = array();

            foreach ($custom as $line) {

                $font = trim($line);

                $rule = '/([A-Z])\w+/';
                $namefound = preg_match_all($rule, $font, $name);

                $fontname = '';

                if ( isset($name[0]) ) {
                    if (is_array($name[0])) {
                        $names = count($name[0]);
                        $count = 1;
                        foreach ($name[0] as $pre_name) {
                            if ($count < $names) {
                                $fontname .= $pre_name.'+';
                            } else {
                                $fontname .= $pre_name;
                            }
                           
                            $count ++;
                        }
                    }
                } else {
                    $fontname .= __('Unknown','cosmotheme');
                }

                $fontname = trim($fontname);

                $custom_fonts[$fontname] = $font;
  
            } 

            return $custom_fonts + $cosmoGoogleFonts;
        }

        static function fonts(){
            
            $result = array();
            $cosmoGoogleFonts = self::get_latest_google_fonts();

			foreach( $cosmoGoogleFonts as $title => $url ){
				$result[ $title ] = str_replace( '+' , ' ' , rtrim( $title ) );
			}

            ksort( $result );
            $result = array_merge( array(''   => 'Default'), $result);
			return $result;
		}
	}
?>